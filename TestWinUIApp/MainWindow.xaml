<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="TestWinUIApp.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:TestWinUIApp"
	xmlns:controls="using:CommunityToolkit.WinUI.Controls"

    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" xmlns:pia="using:PilotAIAssistantControl"
	mc:Ignorable="d"
    Title="TestWinUIApp">

	<Window.SystemBackdrop>
		<MicaBackdrop />
	</Window.SystemBackdrop>

	<Grid>
		<Grid.ColumnDefinitions>
			<ColumnDefinition x:Name="AiColumn" Width="Auto"/>
			<ColumnDefinition Width="5"/>
			<ColumnDefinition Width="*"/>
		</Grid.ColumnDefinitions>

		<!-- AI Expandable Control -->
		<Grid>
			<Grid.RowDefinitions>
				<RowDefinition Height="Auto" />
				<RowDefinition />
			</Grid.RowDefinitions>
			<ComboBox Margin="3" x:Name="agentCombo" SelectionChanged="agentCombo_SelectionChanged">
				<ComboBoxItem Content="Regex Generation Agent" IsSelected="True"/>
				<ComboBoxItem Content="Explain The Regex Agent"/>
			</ComboBox>
			<pia:UCAIExpandable Grid.Row="1" x:Name="ucAi"
	                    Grid.Column="0" Margin="3"
	                    TargetColumn="{Binding ElementName=AiColumn}"
	                    DefaultSize="400"
	                    MinExpandedSize="200"
	                    CollapsedSize="40"/>

		</Grid>
		<controls:GridSplitter x:Name="aiSplitter" Grid.Column="1"
	              Visibility="{Binding ExpanderControl.IsExpanded, ElementName=ucAi, Converter={StaticResource boolNullVisibilityCollapsedConverter}}"
	              IsTabStop="False"
	              HorizontalAlignment="Stretch"
	              VerticalAlignment="Stretch"
	              Background="#E0E0E0"
	              ResizeBehavior="PreviousAndNext" />

		<!-- Main Content -->
		<Grid Margin="0 1 0 0" Grid.Column="2">
			<Grid.RowDefinitions>
				<RowDefinition Height="100" />
				<RowDefinition />
			</Grid.RowDefinitions>
			<Grid>
				<Grid.ColumnDefinitions>
					<ColumnDefinition/>
					<ColumnDefinition Width="Auto"/>
				</Grid.ColumnDefinitions>
				<TextBox Name="txtRegex" Margin="10" AcceptsReturn="True" />
				<Button Grid.Column="1" Content="â“ Explain" Click="ExplainRegex_Click" VerticalAlignment="Top" Margin="0,10,10,0"/>
			</Grid>
			<TextBox Margin="10" Name="txtTest" Grid.Row="1" AcceptsReturn="True">

			</TextBox>
		</Grid>
	</Grid>
</Window>
